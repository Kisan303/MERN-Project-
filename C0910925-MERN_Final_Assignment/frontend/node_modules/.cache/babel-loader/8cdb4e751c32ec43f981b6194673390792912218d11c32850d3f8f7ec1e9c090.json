{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.extractAnchorProps = exports.getURLInfo = exports.getUseSafeHref = exports.configureSafeHref = void 0;\nconst PROTOCOL_REGEX = /^[a-z]+:/;\nconst ORIGIN_REGEX = /^(?:[a-z]+:?:)?(?:\\/\\/)?([^\\/\\?]+)/;\nlet useSafeHref = true;\nlet globalOrigin = typeof window !== 'undefined' ? window.location.origin : false;\nfunction configureSafeHref(configObject) {\n  if (typeof configObject.enabled === 'boolean') {\n    useSafeHref = configObject.enabled;\n  }\n  if (configObject.origin) {\n    globalOrigin = configObject.origin;\n  }\n}\nexports.configureSafeHref = configureSafeHref;\nfunction getUseSafeHref() {\n  return useSafeHref;\n}\nexports.getUseSafeHref = getUseSafeHref;\nfunction getURLInfo(url) {\n  const safeProtocols = ['http:', 'https:', 'mailto:', 'tel:', 'data:'];\n  const protocolResult = url.match(PROTOCOL_REGEX);\n  const originResult = url.match(ORIGIN_REGEX);\n  const urlProtocol = protocolResult ? protocolResult[0] : 'relative';\n  let sameOrigin = urlProtocol === 'relative';\n  if (!sameOrigin && globalOrigin) {\n    sameOrigin = globalOrigin === (originResult && originResult[0]);\n  }\n  const isSafeProtocol = sameOrigin ? true : safeProtocols.includes(urlProtocol);\n  if (!isSafeProtocol) {\n    console.error('ðŸ“¦ `href` passed to anchor tag is unsafe. Because of this, the `href` on the element was not set. Please review the safe href documentation if you have questions.', 'https://www.github.com/segmentio/ui-box');\n    return {\n      url: undefined,\n      sameOrigin\n    };\n  }\n  return {\n    url,\n    sameOrigin\n  };\n}\nexports.getURLInfo = getURLInfo;\nfunction extractAnchorProps(href, rel) {\n  const urlInfo = getURLInfo(href);\n  const safeHref = urlInfo.url;\n  let safeRel = rel || '';\n  if (urlInfo.url) {\n    if (!safeRel.includes('noopener')) {\n      safeRel += `${safeRel.length > 0 ? ' ' : ''}noopener`;\n    }\n    if (!safeRel.includes('noreferrer') && !urlInfo.sameOrigin) {\n      safeRel += `${safeRel.length > 0 ? ' ' : ''}noreferrer`;\n    }\n  }\n  return {\n    safeHref,\n    safeRel\n  };\n}\nexports.extractAnchorProps = extractAnchorProps;","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}